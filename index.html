<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serene Pomodoro Timer</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400&family=Montserrat:wght@100;200;300;400&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background" id="background"></div>

    <div class="container" id="app-container">
        <header class="header">
            <h1 class="app-title">Serene</h1>
            <div class="app-subtitle">Pomodoro Focus Timer</div>
            <button class="settings-btn" id="settings-btn" aria-label="Settings"><i class="fa-solid fa-gear"></i></button>
        </header>
        <div class="timer-container">
            <svg class="timer-circle" viewBox="0 0 280 280">
                <circle class="timer-background" cx="140" cy="140" r="135"></circle>
                <circle class="timer-progress" cx="140" cy="140" r="135" id="progress-ring"></circle>
            </svg>
            <div class="timer-content">
                <div class="timer-display" id="timer-display">25:00</div>
                <div class="session-label" id="session-label">Focus Session</div>
            </div>
        </div>
        <div class="session-counter" id="session-counter"></div>
    </div>

    <footer class="footer">
        <div class="mode-selector">
            <button class="mode-tab active" data-mode="focus">
                <i class="fa-solid fa-brain"></i>
                Focus
            </button>
            <button class="mode-tab" data-mode="short-break">
                <i class="fa-solid fa-mug-hot"></i>
                Short Break
            </button>
            <button class="mode-tab" data-mode="long-break">
                <i class="fa-solid fa-couch"></i>
                Long Break
            </button>
        </div>
        <div class="controls">
            <button class="control-btn" id="prev-btn" aria-label="Previous Mode"><i class="fa-solid fa-backward-fast"></i></button>
            <button class="control-btn" id="reset-btn" aria-label="Reset Timer"><i class="fa-solid fa-rotate-right"></i></button>
            <button class="control-btn" id="play-pause-btn" aria-label="Play or Pause"><i class="fa-solid fa-play"></i></button>
            <button class="control-btn" id="next-btn" aria-label="Next Mode"><i class="fa-solid fa-forward-fast"></i></button>
        </div>
        <div class="footer-socials">
            <a href="https://github.com/sarangnayak" target="_blank" aria-label="GitHub"><i class="fa-brands fa-github"></i></a>
            <a href="https://www.linkedin.com/in/nayaksarang/" target="_blank" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
            <a href="https://hashnode.com/@sarangnayakbala" target="_blank" aria-label="Hashnode"><i class="fa-brands fa-hashnode"></i></a>
            <a href="https://dev.to/?signin=true#" target="_blank" aria-label="Dev Community"><i class="fa-brands fa-dev"></i></a>
        </div>
        <p class="footer-credit">Designed by Sarang Nayak.</p>
    </footer>
    
    <div class="settings-modal" id="settings-modal">
        <div class="settings-panel">
            <button id="close-settings-btn" aria-label="Close Settings">&times;</button>
            <h2>Settings</h2>
            <div class="setting-item">
                <label for="focus-duration">Focus (minutes)</label>
                <input type="number" id="focus-duration" min="1" max="120" value="25">
            </div>
            <div class="setting-item">
                <label for="short-break-duration">Short Break (minutes)</label>
                <input type="number" id="short-break-duration" min="1" max="30" value="5">
            </div>
            <div class="setting-item">
                <label for="long-break-duration">Long Break (minutes)</label>
                <input type="number" id="long-break-duration" min="1" max="60" value="15">
            </div>
            <div class="setting-item">
                <label for="long-break-interval">Long Break Interval</label>
                <input type="number" id="long-break-interval" min="1" max="12" value="4">
            </div>
            <hr style="border-color: rgba(255,255,255,0.1); margin: var(--spacing-lg) 0;">
            <div class="setting-item">
                <label for="auto-start-breaks">Auto-start Breaks</label>
                <label class="switch">
                    <input type="checkbox" id="auto-start-breaks">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <label for="auto-start-focus">Auto-start Focus</label>
                <label class="switch">
                    <input type="checkbox" id="auto-start-focus">
                    <span class="slider"></span>
                </label>
            </div>
            <button id="save-settings-btn">Save</button>
        </div>
    </div>

    <!-- Base64 encoded audio fallbacks -->
    <audio id="start-sound" preload="auto"></audio>
    <audio id="end-sound" preload="auto"></audio>

    <script src="script.js"></script>
</body>
</html>
